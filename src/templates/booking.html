{% extends 'base.html' %}

{% block title %}
    Event Booking
{% endblock title %}

{% block content %}

<div class="container">
    <form method="post" action="">
        {% csrf_token %}
        <div class="row">
            <div class="col-lg-12 text-center p-4 text-success">
                <h4>Confirm Booking</h4>
            </div>

            <div class="col-lg-12">
                <div class="row">
                    <!-- personal info part -->
                    <div class="col-lg-6 p-1 pr-5 card">
                        <h5 class="pb-4 mx-auto text-primary">Personal Info</h5>
                        <h6>User Name: {{user.first_name}} {{user.last_name}}</h6>
                        <label for="email"><h6>Email:</h6></label>
                        <input class="form-control mb-2" type="email" name="email" id="email" value="{{user.email}}" required>
                        <label for="email"><h6>Phone Number:</h6></label>
                        <input class="form-control" type="text" name="phone" id="phone" value="{{user.phone}}" required>
                    </div>
                    <!-- booking info part -->
                    <div class="col-lg-6 p-1 card bookinginfo">
                        <h5 class="pb-4 mx-auto text-primary">Booking Info</h5>
                        <h6>Event Name: {{Event}}<input type="hidden" name="event" value="{{Event}}"></h6>
                        <h6>Location: {{location}}<input type="hidden" name="location" value="{{location}}"></h6>
                        <h6>Place: {{place}}<input type="hidden" name="place" value="{{place}}"></h6>
                        <h6>Event Date: {{date}}<input type="hidden" name="event_date" value="{{date}}"></h6>
                        <h6>Starting Time: {{start_time}}<input type="hidden" name="start_time" value="{{start_time}}"></h6>
                        <h6>Ending Time: {{end_time}}<input type="hidden" name="end_time" value="{{end_time}}"></h6>
                        <h6>Number of Atendees: {{ta}}<input type="hidden" name="ta" value="{{ta}}"></h6>
                        <h6>Adult: {{aa}} Child: {{ac}}<input type="hidden" name="aa" value="{{aa}}"><input type="hidden" name="ac" value="{{ac}}"></h6>
                        <h6>Ticket Type: {{ttype}}<input type="hidden" name="ttype" value="{{ttype}}"></h6>
                        <h6>Price per Atendee: {{price_each.price}}<input type="hidden" name="ppa" value="{{price_each.price}}"></h6>
                        <h6>Total Price: {{total_price}}<input type="hidden" name="total_price" value="{{total_price}}"></h6>
                    </div>
                </div>
            </div>

            <div class="col-lg-12 pt-5 pb-5 pr-0 booking-button">
                <input type="button" id="myBtn" value="Pay Now">
            </div>

        </div>

        <!-- Payment Modal HTML -->

        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content row">
                <div class="col-lg-12 text-center text-success">
                    <span class="close">&times;</span>
                    <h4>Please complete your payment</h4>
                </div>
                <div class="col-lg-12 pl-4 pt-4 text-muted">
                    <h6>You have to pay total: {{total_price}} Price</h6>
                    <h6>Pay to this number: +254717149020</h6>
                </div>
                <div class="col-lg-12 pl-4 pt-2">
                    <h6>Select a Payment Method:</h6>
                    <input type="radio" name="ptype" id="mastercard" value="mastercard" required>
                    <label for="mastercard">Master Card</label><br>
                    <input type="radio" name="ptype" id="m-pesa" value="m-pesa" required>
                    <label for="m-pesa">M-pesa</label><br>
                    <input type="radio" name="ptype" id="visa" value="visa" required>
                    <label for="visa">Visa</label><br>
                    <label for="phone">Enter the phone number:</label>
                    <input type="text" class="form-control" name="pay_phone" id="phone" placeholder="enter the phone number from which you are doing payment" required>
                    <label for="trxid">Enter transaction id:</label>
                    <input type="text" class="form-control" name="trxid" id="trxid" placeholder="enter your payment transaction id" required>
                    <button type="submit" class="btn btn-success float-right mt-4">Confirm</button>
                </div>

            </div>
        </div>
    </form>
</div>

{% endblock content %}